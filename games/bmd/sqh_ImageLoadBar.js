function ImageLoadBar_hook(ctx,width,height,total,current,image){var backgroundColor="#AAEEFF";var barBackgroundColor="#AAEEFF";var barForegroundColor="#ffffff";var barBorderColor="#37ABC8";var barWidth=Math.round(width*0.6);var barHeight=30;var barBorderWidth=1;var barOffset=10;ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,width,height);var totalHeight,barTop;if(image!=null){totalHeight=image.height+barOffset+barHeight;var image_y=(height-totalHeight)>>1;ctx.drawImage(image,(width-image.width)>>1,image_y);barTop=image_y+image.height+barOffset;}else barTop=(height-barHeight)>>1;var barLeft=(width-barWidth)>>1;ctx.fillStyle=barBorderColor;ctx.fillRect(barLeft,barTop,barWidth,barHeight);var barInnerLeft=barLeft+barBorderWidth;var barInnerTop=barTop+barBorderWidth;var barInnerWidth=barWidth-barBorderWidth*2;var barInnerHeight=barHeight-barBorderWidth*2;ctx.fillStyle=barBackgroundColor;ctx.fillRect(barInnerLeft,barInnerTop,barInnerWidth,barInnerHeight);var barLoadedWidth=Math.round(barInnerWidth*current/total);ctx.fillStyle=barForegroundColor;ctx.fillRect(barInnerLeft,barInnerTop,barLoadedWidth,barInnerHeight);}